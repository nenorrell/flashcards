$(document).ready(function(){var problem;var solution;var difficulty;var equationType;var answer;var currentScore=0;var allTimeScore;var musicSpeed=1;if(localStorage.highScore===undefined){allTimeScore=0}else{allTimeScore=atob(localStorage.highScore)}$('#all-time-score').html(allTimeScore);$('#difficulty-selection button').click(function(){$('#main-game-music').get(0).currentTime=38;equationType=$(this).val();let flashCard=fetchEquation(equationType);equation=flashCard.equation;difficulty=flashCard.difficulty;solution=flashCard.solution;freshGameState();$('#equation').html(equation)});$('#answer').keyup(function(e){if(e.which==13){$("#submit").trigger('click')}});$("#submit").click(function(){answer=$('#answer').val();if(answer==solution){currentScore=currentScore+difficulty*10;let flashCard=fetchEquation(equationType);equation=flashCard.equation;difficulty=flashCard.difficulty;solution=flashCard.solution;$('#current-score').html(currentScore);$('#answer').val("");$('#equation').html(equation)}else{$('#final-score').html(currentScore);$('#end-equation').html(equation);$('#end-solution').html(solution);$('#end-answer').html(answer);if(currentScore>allTimeScore){localStorage.highScore=btoa(currentScore);$('#final-score-title').html("New high score!!");$('.conf-cont').show()}$('#main-game-music').get(0).pause();$('#game-over-music').get(0).play();$('#current-score-contain').fadeOut();$('#game').fadeOut();$('#game-over').fadeIn()}});$("#refresh").click(function(){location.reload()});$("#mute").click(function(){$("audio").prop('muted',true);$(this).hide();$('#unmute').show()});$("#unmute").click(function(){$("audio").prop('muted',false);$(this).hide();$('#mute').show()})});var freshGameState=function(){$('#all-time-score-contain').fadeOut();$('#current-score-contain').fadeIn();$('#difficulty-selection').fadeOut();$('#game').fadeIn()};